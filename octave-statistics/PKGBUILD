# Submitter: Dknight
# Contributor: Maksim Sipos <msipos@mailc.net>
# Maintainer: Clemens Buchacher <drizzd@aon.at>
pkgname=octave-statistics
pkgver=1.0.10
pkgrel=5
pkgdesc="Additional statistics functions for octave.

Distributions
 anderson_darling_cdf
 betastat
 binostat
 chi2stat
 copulacdf copulapdf
 expstat
 fstat
 gamstat
 geostat
 hygestat
 lognstat
 mvnpdf mvnrnd mvncdf
 vmpdf vmrnd
 mvtcdf
 normstat
 nbinstat
 poisstat
 raylcdf raylinv raylpdf raylrnd raylstat
 tstat
 unidstat
 unifstat
 wblstat
 gamlike
 jsucdf
 jsupdf
 random
 cl_multinom
Descriptive statistics
 nansum
 nanmax
 nanmean
 nanmedian
 nanmin
 nanstd
 nanvar
 geomean
 harmmean
 mad
 trimmean
 zscore
 tabulate
Experimental design
 fullfact ff2n
Linear regression
 anovan
 princomp
 regress
Plots
 boxplot
 scatter
 normplot
 pareto
 histfit
Models
 hmmestimate hmmgenerate hmmviterbi
Hypothesis testing
 anderson_darling_test
Fitting
 gamfit
Clustering
 pdist
 linkage
 squareform
Reading and Writing
 caseread
 casewrite
 tblread
 tblwrite"
arch=(any)
url="http://octave.sourceforge.net/statistics/"
license=('GPL' 'GPL3' 'custom:see individual files')
depends=('octave>=2.9.7' 'octave-miscellaneous')
makedepends=('tar' 'gzip')
optdepends=()
backup=()
options=()
install=octave-statistics.install
source=("http://downloads.sourceforge.net/octave/statistics-1.0.10.tar.gz")
_archive=statistics-$pkgver.tar.gz
noextract=("$_archive")
md5sums=('588fc3e1d86e82af1eab6d8fc6e7840e')

build() {
  cd "$srcdir"
  mkdir -p $pkgdir/usr/share/octave/packages
  mkdir -p $pkgdir/usr/lib/octave/packages
  mkdir -p builddir
  tar xzf "$_archive"
  rm -f statistics/inst/prctile.m
  sed -i -e '/^\s*prctile\s*$/d' statistics/INDEX
  tar czf "statistics-mod.tar.gz" statistics
  echo "pkg build -nodeps builddir statistics-mod.tar.gz" | octave --silent
  cp "builddir/$_archive" $pkgdir/usr/share/octave/statistics.tar.gz
}
