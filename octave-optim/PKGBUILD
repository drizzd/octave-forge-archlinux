# Maintainer: Clemens Buchacher <drizzd@aon.at>
pkgname=octave-optim
pkgver=1.0.16
pkgrel=1
pkgdesc="Non-linear optimization toolkit.

Minimization
 minimize 
 nelder_mead_min
 d2_min
 nrm
 fmin
 line_min
 fmins adsmax mdsmax nmsmax
 bfgsmin samin battery
 fminsearch
 cg_min
 de_min
Data fitting
 expfit
 wpolyfit
 leasqr
 nonlin_residmin
 nonlin_curvefit
 LinearRegression
Zero finding
 vfzero
Compatibility
 fminunc_compat
 optimset_compat
 linprog
Numerical derivatives
 dfdp dcdp dfpdp dfxpdp cdiff deriv
 numgradient numhessian
Pivoting
 cpiv_bard
 gjp
Tests
  test_min_1 test_min_2 test_min_3 test_min_4
  test_d2_min_1 test_d2_min_2 test_d2_min_3
  test_nelder_mead_min_1 test_nelder_mead_min_2
  poly_2_ex test_minimize_1
  optim_problems
Examples
 bfgsmin_example
 rosenbrock
 samin_example
"
arch=(any)
url="http://octave.sourceforge.net/optim/"
license=('GPL' 'FDL')
depends=('octave>=2.9.7' 'octave-miscellaneous>=1.0.11' 'octave-struct>=1.0.9')
makedepends=()
optdepends=()
backup=()
options=()
install=octave-optim.install
source=("http://downloads.sourceforge.net/octave/optim-$pkgver.tar.gz")
noextract=("optim-$pkgver.tar.gz")
md5sums=('a0ed1c8bbd7d9ddafc6f5fab08aba1c5')

build() {
  cd "$srcdir"
  mkdir -p $pkgdir/usr/share/octave/packages
  mkdir -p $pkgdir/usr/lib/octave/packages
  mkdir -p builddir
  echo "pkg build -nodeps builddir optim-$pkgver.tar.gz" | octave --silent
  cp builddir/optim-$pkgver.tar.gz $pkgdir/usr/share/octave/optim.tar.gz
}
